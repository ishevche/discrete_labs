## Лабораторна робота №3

Автори:

 - Іван Шевченко
 - Клим Ярослав

## Завдання

Нам потрібно було реалізувати алгоритм RSA обміну ключами та відповідне
кодування повідомлень цими ключами. Також варто було додати перевірку на
цілісність повідомлень.

## Використання

Для користування необхідно в першу чергу запустити сервер:
```shell
$ python server.py
```
А потім по черзі 2 клієнти, зв'язок між якими буде зашифровано:
```shell
$ python client.py
```

## Алгоритм RSA

Алгоритм RSA складається з 4 етапів: генерації ключів, шифрування,
розшифрування та розповсюдження ключів.

### Генерація:

1. Вибираються два великі прості числа p і q
2. Обчислюється їх добуток n = p * q
3. Обчислюється функція Ейлера φ(n) = (p - 1) * (q - 1)
4. Вибирається ціле число e, 1 < e < φ(n), e взаємнопросте з φ(n)
5. За допомогою розширеного алгоритму Евкліда знаходиться число d, e*d = 1(mod
   φ(n). e i d - відрита і секретна експоненти

## Розповсюдження ключів

Для того, щоб користувач міг відправити свої секретні повідомлення, інший
користувач передає свій відкритий ключ (n, e) йому через надійний, але не
обов'язково секретний маршрут. Секретний ключ d ніколи не розповсюджується.

### Шифрування:

Шифруємо текст використовуючи рівняння:

c = m ** e mod n

m - повідомлення, n - p*q, c - зашифрований текст, e - відкрита експонента

### Розшифрування:

Для розшифрування повідомлення потрібно обчислити таку рівність:

m = c ** d mod n

m - повідомлення, n - p*q, c - зашифрований текст, d - секретна експонента

## prime_generator.py

Генерує прості числа для ключів, використовуючи тест простоти Мілера-Рабіна

## client.py

Здійснює спілкування клієнтів. Кодує вихідні повідомлення і розкодовує вхідні

### __generate_keys(self)

Генерує ключі за допомогою prime_generator і допоміжних методів check_keys,
__set_decrypt_key і modulo_power

### read_handler(self):

Приймає повідомлення і розкодовує його. Перевіряє чи повідомлення передане
цілісно

### write_handler(self):

Рахує хеш повідомлення, кодує його надсилає його іншому користувачеві

## server.py

Сервер, за допомогою якого здійснюється спілкування між клієнтами